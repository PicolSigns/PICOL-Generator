!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";"strict mode";var d=a("../../src/js/generator.es6");(new(function(a){return a&&a.__esModule?a:{default:a}}(d).default)).run()},{"../../src/js/generator.es6":4}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=(Storages.initNamespaceStorage("ns_name").localStorage,function(){function a(){d(this,a),this.available_sizes=function(){for(var a=[],b=8;b<=128;)b+=b,a.push({size:b,available:!0});return a.push({size:"_",available:!0}),a}()}return e(a,[{key:"set_storage",value:function(){}},{key:"load_project",value:function(a){console.log(a),a.name.trim().length>0&&(0===$("#project_title").length?$(".stage-container").append($("#project_title").append($("<span>",{class:"grey-text"}).text("Current project: ")).append(a.name)):$("#project_title").html("").append($("<span>",{class:"grey-text"}).text("Current project: ")).append(a.name)),$("#project_name_input").val(a.name).removeClass("invalid"),$(".thumbNav").fadeIn(),$("#slider").anythingSlider(2),console.log(a)}},{key:"build",value:function(){var a=0,b="",c="",d=256;return $("<div>",{class:"stage-container"}).append($("<div>",{class:"stage icon_size"}).append($("<div>",{class:"content valign center"}).append($("<div>",{class:"card z-depth-0"}).append(function(){return""!==d?$("<img>",{src:"../../../api/generator.php?size="+d+"&action=show",class:"responsive-img"}):$("<input>",{type:"text"})}).append($("<div>",{class:"row spacer-30"}).append($("<div>",{class:"col l4 m8 s10 offset-l4 offset-m2 offset-s1"}).append($("<select>",{tabindex:"-1",class:"text-right browser-default",id:"size_selector"}).append($("<option>",{value:"",disabled:"disabled",selected:"selected"}).text("Select size...")).append($.map(this.available_sizes,function(e){var f="_"!==e.size?e.size+"px":"Custom...";return a++,$("<option>",{selected:function(){return e.available&&"number"==typeof e.size?(b=""==e.size?"selected":null,d=e.size<=64?e.size:parseInt(e.size/1.2)):(b=null,c="cancel.png",d=""),b},value:e.size}).text(f)})).on("change",function(){if("_"==this.value){var a=$("<input>",{type:"number",tabindex:"-1",id:"size_input_selector",placeholder:"Icon size ",min:5,max:1e3}).on("keydown",function(b){13!=b.keycode&&13!=b.which||($("#selected_size").text(a.val()),$("#slider").anythingSlider(3))});$("#selected_size").text(""),$(this).closest("div").prepend(a),$(this).remove(),a.focus()}else $("#selected_size").text(this.value),$("#slider").anythingSlider(3)})))))))}}]),a}());c.default=f},{}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e,f,g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./_icon_size.es6"),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=function(){function a(b){d(this,a),e=b,f=new i.default(b)}return g(a,[{key:"build",value:function(){var a=$("<div>",{class:"card-action"}).append($("<a>",{class:"btn-flat white right",href:"javascript:;",tabindex:"-1",id:"save_settings_btn"}).text("Continue")),b=$("<div>").append($("<div>",{class:"row"}).append($("<div>",{class:"col l10 m12 s12 offset-l1"}).append($("<div>",{class:"project-input input-field"}).append($("<input>",{type:"text",id:"project_name_input",class:"validate","data-error":"No empty value",tabindex:"-1",autofocus:"autofocus",placeholder:"Project name"}))))).append($("<div>",{class:"row"}).append($("<div>",{class:"col l8 m12 s12"}).append($("<h6>").text("Local storage")).append($("<p>").html("Use the browser local memory to store your history and settings.").append($("<a>",{href:"javascript:;","data-position":"top","data-tooltip":"This is not required but allows you to find your icons once you come back to this page.<br />At the final step you can export the entire project, anyway."}).append($("<i>",{class:"picol_information"})).tooltip({html:!0,delay:0})))).append($("<div>",{class:"col l4 m12 s12"}).append($("<div>",{class:"switch right"}).append($("<label>").append("Off").append($("<input>",{type:"checkbox",tabindex:"-1",id:"use_localstorage_btn"})).append($("<span>",{class:"lever"})).append("On"))))),c=$("<div>").append($("<h6>").text("Saved projects")).append($("<ul>",{class:"collection"}).append(function(){return $.map(e,function(a){var b=new Date(a.project.date),c=b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()+" "+b.getHours()+":"+(b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes());return $("<li>",{class:"collection-item dismissable"}).append($("<div>").append($("<div>",{class:"title"}).append(a.project.name)).append($("<span>",{class:"help-text"}).text("Created on "+c)).append($("<a>",{href:"javascript:;",class:"secondary-content grey-text"}).append($("<i>",{class:"picol_controls_play"})).on("click",function(){f.load_project(a.project)})))})}));return $("<div>",{class:"stage project"}).append($("<header>",{class:"center-align"}).append($("<img>",{class:"logo",src:"assets/media/img/picol_logo.png"}))).append($("<div>",{class:"content"}).append($("<div>",{class:"card z-depth-0"}).append(function(){return void 0===e?$("<div>",{class:"card-content"}).append(b.append($("<div>",{class:"spacer-60 hide-on-small-only"})).append(a)):$("<div>",{class:"card-content"}).append($("<div>",{class:"row"}).append($("<div>",{class:"col l6 m6 s12"}).append(c)).append($("<div>",{class:"col l6 m6 s12"}).append(b))).append(a)})))}}]),a}();c.default=j},{"./_icon_size.es6":2}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./_project.es6"),h=d(g),i=a("./_icon_size.es6"),j=d(i),k=Storages.initNamespaceStorage("ns_name").localStorage,l=void 0!==k.get("picol_generator")?k.get("picol_generator"):void 0,m=new h.default(l),n=new j.default(l),o=function(){function a(){e(this,a),this.pages={},this.scripts={},this.sliders={Project:{id:"project_selector",title:"PROJECT",class:"Project",script_file:""},Size:{id:"icon_size_selector",title:"ICON SIZE",class:"IconSize",script_file:""},Colour:{id:"colour",title:"COLOUR",class:"Colour",script_file:""}},this.checkall=!0,this.j=0}return f(a,[{key:"array_unique",value:function(a){var b=[];a:for(var c=0,d=a.length;c<d;c++){for(var e=0,f=b.length;e<f;e++)if(b[e]==a[c])continue a;b[b.length]=a[c]}return b}},{key:"get_storage",value:function(){}},{key:"get_base_data",value:function(a){var b={};return{project:{name:a,date:new Date,browser:function(){return $.each(navigator,function(a,c){b[a]=c}),b}()}}}},{key:"set_storage",value:function(a){void 0===l?k.set("picol_generator",[this.get_base_data(a)]):(l.push(this.get_base_data(a)),k.set("picol_generator",l))}},{key:"build_sliders",value:function(){var a=this,b=0;$("body").prepend($("<span>",{class:"hide",id:"selected_badge"})).prepend($("<span>",{class:"hide",id:"selected_icons"})).prepend($("<span>",{class:"hide",id:"selected_colour"})).prepend($("<span>",{class:"",id:"selected_size"})),$.each(this.sliders,function(c,d){b++,a.pages[b]=c,a.scripts[b]=d.script_file,$("#slider").append($("<li>").append($("<fieldset>",{id:d.id,class:"selector"}).append($("<legend>").text(d.title)).append($("<div>",{class:"stage-container"}).append(function(){switch(d.class){case"Project":return m.build();case"IconSize":return n.build()}}))))}),$("#slider").anythingSlider({navigationFormatter:function(b){return a.pages[b]},autoPlay:!1,startPanel:1,buildArrows:!1,buildStartStop:!1,expand:!0,hashTags:!1,resizeContents:!0,infinteSlides:!1,enableKeyboard:!0,animationTime:450,easing:"easeOutCubic",onInitialized:function(){$(".thumbNav").hide(),0===$("#project_title").length&&$("<div>",{id:"project_title"}).insertAfter(".anythingControls"),$("#save_settings_btn").on("click",function(){var b=$("#project_name_input").val().trim(),c=$("#use_localstorage_btn").is(":checked");c&&0===b.length?($("#project_name_input").addClass("invalid").focus(),$(".thumbNav").fadeOut()):(c&&a.set_storage(b),n.load_project(a.get_base_data(b).project))})},onSlideComplete:function(a){var b=$("#selected_size").text();console.log(parseInt(b)),a.currentPage>2&&(0===b.trim().length||parseInt(b)<=0)&&$("#slider").anythingSlider(2)}}),$(document).keydown(function(a){9==a.keyCode&&a.preventDefault()})}},{key:"select_unselect_img",value:function(a,b,c,d,e){if(void 0===e&&(e=!0),b){var f=a.replace(".svg","");f==$("#"+d).val()?1==e&&($("#"+c+" td").removeClass("selected"),$("#"+d).val("")):($("#"+c+" td").removeClass("selected"),$("#_"+f).addClass("selected"),$("#"+d).val(f))}else{var g=$("#"+d).val(),h=$("#"+d).val(),i="";""!==a?$("#_"+a).hasClass("selected")?(i=0===h.split(",")?a:a+",",$("#_"+a).removeClass("selected"),h=h.replace(i,""),$("#"+d).val(h),""==g&&($("#selected_badges").val(""),$("#slider").find("#generated").html('<tr><td class="nothing"></td></tr>'),this.get_images())):(i=a+",",$("#_"+a).addClass("selected"),h+=i,$("#"+d).val(h)):($("#slider").find("#generated").html('<tr><td class="nothing"></td></tr>'),$("#operation_txt").html(""))}this.get_images()}},{key:"get_images",value:function(){var a=0,b=$("#output").val().replace("#",""),c='<tr><td class="nothing"></td></tr>',d=$("#selected_imgs").val(),e=$("#selected_badges").val(),f=$("#selected_size").val(),g=$("#new_dir").val();switch($("#loader").css({cursor:"wait"}),f=parseInt(f)){case 16:a=15;break;case 32:a=10;break;case 64:a=6;break;case 128:a=3;break;case 256:a=2}a=parseInt(a),e.length>0&&(e+=".svg"),$("#loader").fadeTo(0,0,function(){if(d.length>0){var h=d.split(",");h.pop(),h.sort(),c="<tr>";for(var i=0;i<h.length;i++)if(h[i].length>0){i%a==0&&(c+="</tr><tr>");var j=11*Math.random();c+='<td align="center" title="Click to download image" onclick="location.href=\'common/include/generator.php?size='+f+"&colour="+b+"&img="+h[i]+"&badge="+e+'\'"><img src="common/include/generator.php?size='+f+"&colour="+b+"&img="+h[i]+"&badge="+e+"&new_dir="+g+"&action=show&rand="+j+'" /></td>'}}c+="</tr>",c=c.replace("<tr></tr>",""),$("#slider").find("#generated").html(c),$("#generated div").delay(300).fadeIn(150)}),$("#loader").fadeOut(),$("#loader").css({cursor:"default !important"})}},{key:"refresh_history",value:function(){var a=this,b=[],c=-1,d=$("#new_dir").val();$.get("common/include/ajax_read_history.php",{dir:d},function(d){$("#slider").find("#history").html(d),""!==$("#slider").find("#history").html()?($("#slider").find("#history_content").css({backgroundImage:"none"}),$("#slider").find("#download_btn").fadeIn()):$("#slider").find("#download_btn").fadeOut(),a.checkall?$("#slider").find("#history input").attr("checked",!0):$("#slider").find("#history input").attr("checked",!1),jQuery.each($("#slider").find("#history input"),function(){c++,b[c]=$(this).attr("name")}),b=a.array_unique(b),$("#slider").find("#blacklist").val(b)})}},{key:"run",value:function(){this.build_sliders(),$(document).ready(function(){$.get("common/include/funcs/_ajax/generator_interface.php",function(a){var b=0,c=void 0,d=void 0,e="",f="",g="",h=[];$("#new_dir").val(a.new_dir),$("#images").val(a.images),$.each(a.images,function(a,i){b++,c=i.split("."),d=c[0],e=d,f=d.replace(/_/g," "),h.push(f),b%4==1&&(g+="</tr><tr>"),g+='<td align="center" onclick="select_unselect_img(\''+e+"', false, 'icon_selector', 'selected_imgs', true);\" class=\""+b+'" id="_'+e+'" title="'+f+'"><img src="common/include/svg_resizer.php?f='+a+'" /><br />'+f+"</td>"}),$("#icon_selector").append(g)},"json"),$("#loader").fadeOut(900),$("#generator_interface").delay(300).fadeIn(900)})}}]),a}();c.default=o},{"./_icon_size.es6":2,"./_project.es6":3}]},{},[1]);